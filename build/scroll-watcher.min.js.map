{"version":3,"sources":["?"],"names":["global","factory","exports","module","define","amd","ScrollWatcher","this","E","createCommonjsModule","fn","prototype","on","name","callback","ctx","e","push","once","listener","self","off","apply","arguments","_","emit","data","slice","call","evtArr","i","len","length","evts","liveEvents","index","utils","$","id","substr","document","getElementById","isElement","obj","window","HTMLElement","nodeType","nodeName","evaluate","element","el","toType","find","location","selector","context","find_all","simpleRegex","periodRegex","Array","matches","test","getElementsByClassName","replace","getElementsByTagName","querySelectorAll","mergeOptions","obj1","obj2","obj3","attr1","attr2","isDefAndNotNull","val","assertEqual","a","b","message","Error","assert","condition","now","performance","Date","getTime","nowOffset","timing","navigationStart","offset","rect","getBoundingClientRect","docEl","documentElement","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","width","offsetWidth","height","offsetHeight","getScroll","scrollLeft","body","scrollTop","getViewportSize","w","innerWidth","clientWidth","h","innerHeight","clientHeight","getDocumentHeight","Math","max","scrollHeight","commonjsGlobal","performanceNow","getNanoSeconds","hrtime","loadTime","process","hr","now$1","root","vendors","suffix","raf","caf","last","queue","frameDuration","_now","next","setTimeout","cp","cancelled","round","handle","index$1","cancel","polyfill","requestAnimationFrame","cancelAnimationFrame","EVENT_TYPE","PAGELOAD","SCROLLING","ENTER","FULL_ENTER","EXIT_PARTIAL","EXIT","DEFAULT_OFFSET","bottom","Internal","base","Base","lastXY","watching","viewport","loopBound","loop","bind","setListeners","this$1","join","xy","scrolling_down","evt_data","scrollX","scrollY","scrollingDown","scrollingUp","Object","keys","forEach","k","item","recalculate","target","node","isInViewport","wasInViewport","wasFullyOut","emitter","isFullyOut","isPartialOut","wasPartialOut","wasFullyInViewport","isFullyInViewport","dimensions","isAboveViewport","isBelowViewport","this_","onReadyState","readyState","removeEventListener","onResize","addEventListener","TinyEmitter$$1","counter","__proto__","create","constructor","watch","opt_offset","reset","wasAboveViewport","wasBelowViewport","idx","update","eventName","windowAtBottom","scrolled","viewHeight","parseInt","windowAtTop"],"mappings":"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","file":"scroll-watcher.min.js"}