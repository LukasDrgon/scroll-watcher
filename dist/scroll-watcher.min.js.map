{"version":3,"sources":["0"],"names":["global","factory","exports","module","define","amd","ScrollWatcher","this","E","prototype","on","name","callback","ctx","e","push","fn","once","listener","self","off","apply","arguments","_","emit","data","slice","call","evtArr","i","len","length","evts","liveEvents","index","utils","$","id","substr","document","getElementById","isElement","obj","window","HTMLElement","nodeType","nodeName","evaluate","element","el","toType","find","console","warn","location","selector","context","find_all","simpleRegex","periodRegex","Array","matches","test","getElementsByClassName","replace","getElementsByTagName","querySelectorAll","mergeOptions","obj1","obj2","obj3","attr1","attr2","isDefAndNotNull","val","assertEqual","a","b","message","Error","assert","condition","now","performance","Date","getTime","nowOffset","timing","navigationStart","offset","rect","getBoundingClientRect","docEl","documentElement","left","pageXOffset","clientLeft","top","pageYOffset","clientTop","width","offsetWidth","height","offsetHeight","getScroll","scrollLeft","body","scrollTop","getViewportSize","w","innerWidth","clientWidth","h","innerHeight","clientHeight","getDocumentHeight","Math","max","scrollHeight","commonjsGlobal","performanceNow","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","process","hr","uptime","root","vendors","suffix","raf","caf","last","queue","_now","next","setTimeout","cp","cancelled","round","handle","index$1","cancel","polyfill","requestAnimationFrame","cancelAnimationFrame","EVENT_TYPE","PAGELOAD","SCROLLING","ENTER","FULL_ENTER","EXIT_PARTIAL","EXIT","DEFAULT_OFFSET","bottom","Internal","base","Base","lastXY","watching","viewport","loopBound","loop","bind","setListeners","this$1","join","xy","scrolling_down","evt_data","scrollX","scrollY","scrollingDown","scrollingUp","Object","keys","forEach","k","item","recalculate","target","node","isInViewport","wasInViewport","wasFullyOut","emitter","isFullyOut","isPartialOut","wasPartialOut","wasFullyInViewport","isFullyInViewport","dimensions","isAboveViewport","isBelowViewport","this_","onReadyState","readyState","removeEventListener","onResize","addEventListener","TinyEmitter$$1","counter","__proto__","create","constructor","watch","opt_offset","reset","wasAboveViewport","wasBelowViewport","idx","update","eventName","windowAtBottom","scrolled","viewHeight","parseInt","windowAtTop"],"mappings":"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","file":"scroll-watcher.min.js"}